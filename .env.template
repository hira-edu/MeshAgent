# MeshAgent Infrastructure Configuration Template
# Copy this file to .env and fill in your actual infrastructure details
# NEVER commit .env to Git - it's in .gitignore for security

# ============================================
# Server Infrastructure
# ============================================

# Primary MeshCentral server domain (use DNS, not IP)
MESH_SERVER_DOMAIN=your-mesh-server.example.com
MESH_SERVER_IP=0.0.0.0

# Agent WebSocket endpoint
MESH_AGENT_ENDPOINT=wss://agents.your-domain.example.com:4445/agent.ashx

# Relay endpoint for peer-to-peer connections
MESH_RELAY_ENDPOINT=wss://relay.your-domain.example.com:4450

# Web portal
MESH_WEB_PORTAL=https://your-mesh-server.example.com

# ============================================
# Deployment Credentials
# ============================================

# SSH deployment credentials
DEPLOY_SSH_HOST=your-mesh-server.example.com
DEPLOY_SSH_USER=root
DEPLOY_SSH_PORT=22
DEPLOY_SSH_KEY_PATH=~/.ssh/id_ed25519

# Deployment paths on server
DEPLOY_MESHCENTRAL_ROOT=/opt/meshcentral
DEPLOY_AGENTS_DIR=/opt/meshcentral/meshcentral-data/agents

# ============================================
# Code Signing (Optional)
# ============================================

# Authenticode certificate for binary signing
CODE_SIGN_CERT_PATH=
CODE_SIGN_CERT_PASSWORD=
CODE_SIGN_TIMESTAMP_URL=http://timestamp.digicert.com

# ============================================
# Build Configuration
# ============================================

# TLS obfuscation profile (windows_update, chrome_windows, edge_windows, windows_telemetry)
TLS_PROFILE=windows_update

# Build configuration (Release or Debug)
BUILD_CONFIGURATION=Release

# ============================================
# GitHub Actions Secrets (if using CI/CD)
# ============================================
# Add these as repository secrets in GitHub:
# - SSH_PRIVATE_KEY
# - CODE_SIGN_CERT_BASE64
# - CODE_SIGN_CERT_PASSWORD
